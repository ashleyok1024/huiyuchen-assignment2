{"ast":null,"code":"export const COLORS = [\"blue\", \"red\", \"orange\"];\nexport const SHAPES = [\"diamond\", \"heart\", \"oval\"];\nexport const SHADINGS = [\"empty\", \"stripe\", \"solid\"];\nexport const NUMS = [\"one\", \"two\", \"three\"];\nexport function createDeck(level) {\n  let deck = []; //easy mode -27 cards\n\n  if (level === \"easy\") {\n    for (let i = 0; i < SHAPES.length; i++) {\n      for (let j = 0; j < COLORS.length; j++) {\n        for (let k = 0; k < NUMS.length; k++) {\n          deck.push({\n            selectStatus: \"unselect\",\n            path: \"card/\" + COLORS[j] + \"/\" + SHAPES[i] + \"/\" + SHADINGS[0] + \"/\" + NUMS[k] + \".svg\",\n            color: COLORS[j],\n            shape: SHAPES[i],\n            shading: SHADINGS[0],\n            num: NUMS[k]\n          });\n          console.log(deck);\n        }\n      }\n    }\n  } else {\n    for (let i = 0; i < SHAPES.length; i++) {\n      for (let j = 0; j < COLORS.length; j++) {\n        for (let k = 0; k < NUMS.length; k++) {\n          for (let n = 0; n < SHADINGS.length; n++) {\n            deck.push({\n              selectStatus: \"unselect\",\n              path: \"card/\" + COLORS[j] + \"/\" + SHAPES[i] + \"/\" + SHADINGS[n] + \"/\" + NUMS[k] + \".svg\",\n              color: COLORS[j],\n              shape: SHAPES[i],\n              shading: SHADINGS[n],\n              num: NUMS[k]\n            });\n          }\n        }\n      }\n    }\n  }\n\n  return shuffle(deck);\n}\nexport function startNewGame(state) {\n  console.log(state.level);\n  const newDeck = createDeck(state.level);\n  const newTable = newDeck.slice(0, 12);\n  const deckRemaining = newDeck.slice(12, 81);\n  return { ...state,\n    deck: deckRemaining,\n    tableShow: newTable,\n    selected: []\n  };\n}\n\nfunction shuffle(deck) {\n  for (let i = deck.length - 1; i > 0; i--) {\n    let j = Math.floor(Math.random() * i);\n    let temp = deck[i];\n    deck[i] = deck[j];\n    deck[j] = temp;\n  }\n\n  return deck;\n}\n\nexport function selectCard(state, action) {\n  newState = { ...state\n  };\n  let NewTableShow = [];\n  let selectedCardUrl = action.value;\n  let newSelected = state.selected;\n\n  for (let i = 0; i < state.tableShow.length; i++) {\n    let curCard = state.tableShow[i];\n\n    if (curCard.path === selectedCardUrl) {\n      let NewSelectedCard = { ...curCard,\n        selectStatus: \"selected\"\n      };\n      NewTableShow.push(NewSelectedCard);\n      newSelected.push(NewSelectedCard);\n    }\n\n    NewTableShow.push(curCard);\n  }\n\n  newState = { ...state,\n    selected: newSelected,\n    tableShow: NewTableShow\n  };\n\n  if (newState.selected.length < 3 || !newState.selected) {\n    return newState;\n  } else {\n    if (isValidSet(newState.selected)) {\n      return replaceAnotherThree(newState);\n      console.log(\"Right set!\");\n    } else {\n      refreshSelected(newState);\n    }\n  }\n}\n\nfunction refreshSelected(state) {\n  let newTableShow = [];\n\n  for (let i = 0; i < state.tableShow.length; i++) {\n    let curCard = state.tableShow[i];\n\n    if (curCard.selectStatus === \"selected\") {\n      newTableShow.push({ ...curCard,\n        selectStatus: \"unselect\"\n      });\n    } else {\n      newTableShow.push(curCard);\n    }\n  }\n\n  const newState = { ...state,\n    tableShow: newTableShow,\n    selected: []\n  };\n  return newState;\n}","map":{"version":3,"sources":["/Users/huiyuchen/6510_HuiyuChen/HuiyuChen-cs5610-project2-sets-card-game/huiyu-chen-project2/src/Controller/Functions.js"],"names":["COLORS","SHAPES","SHADINGS","NUMS","createDeck","level","deck","i","length","j","k","push","selectStatus","path","color","shape","shading","num","console","log","n","shuffle","startNewGame","state","newDeck","newTable","slice","deckRemaining","tableShow","selected","Math","floor","random","temp","selectCard","action","newState","NewTableShow","selectedCardUrl","value","newSelected","curCard","NewSelectedCard","isValidSet","replaceAnotherThree","refreshSelected","newTableShow"],"mappings":"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","sourcesContent":["export const COLORS = [\"blue\", \"red\", \"orange\"]\nexport const SHAPES = [\"diamond\", \"heart\", \"oval\"]\nexport const SHADINGS = [\"empty\", \"stripe\", \"solid\"]\nexport const NUMS = [\"one\",\"two\", \"three\"]\n\nexport function createDeck(level){\n    let deck = []\n    //easy mode -27 cards\n    if (level === \"easy\"){\n        for (let i = 0; i < SHAPES.length; i++ ){\n            for (let j = 0; j < COLORS.length; j++){\n                for(let k = 0; k < NUMS.length; k++){\n                    deck.push({\n                        selectStatus: \"unselect\",\n                        path : \"card/\" + COLORS[j] + \"/\" + SHAPES[i] + \"/\" + SHADINGS[0] + \"/\" + NUMS[k]+\".svg\",\n                        color : COLORS[j],\n                        shape : SHAPES[i],\n                        shading : SHADINGS[0],\n                        num : NUMS[k],\n                    });\n                    console.log(deck);\n                }\n            }\n        }\n    } else{\n        for (let i = 0; i < SHAPES.length; i++ ){\n            for (let j = 0; j < COLORS.length; j++){\n                for(let k = 0; k < NUMS.length; k++){\n                    for(let n = 0; n < SHADINGS.length; n++){\n                        deck.push({\n                            selectStatus: \"unselect\",\n                            path : \"card/\" + COLORS[j] + \"/\" + SHAPES[i] + \"/\" + SHADINGS[n] + \"/\" + NUMS[k]+\".svg\",\n                            color : COLORS[j],\n                            shape : SHAPES[i],\n                            shading : SHADINGS[n],\n                            num : NUMS[k],\n                        });\n\n                    }\n                }\n            }\n        }\n\n    }\n    return shuffle(deck);\n}\n\n\nexport function startNewGame(state){\n    console.log(state.level);\n    const newDeck = createDeck(state.level);\n    const newTable = newDeck.slice(0,12);\n    const deckRemaining = newDeck.slice(12,81);\n    return{\n        ...state,\n        deck:deckRemaining,\n        tableShow: newTable,\n        selected:[],\n    }\n}\n\nfunction shuffle(deck) {\n    \n    for (let i = deck.length - 1; i > 0; i--){\n        let j = Math.floor(Math.random() * i);\n        let temp = deck[i];\n        deck[i] = deck[j];\n        deck[j] = temp;\n    }\n\n    return deck;\n}\n\nexport function selectCard(state, action){\n    newState = {...state};\n    let NewTableShow = [];\n    let selectedCardUrl = action.value;\n    let newSelected = state.selected;\n\n    for(let i = 0; i< state.tableShow.length; i++){\n        let curCard = state.tableShow[i];\n        if(curCard.path === selectedCardUrl){\n            let NewSelectedCard = {...curCard, selectStatus:\"selected\"};\n            NewTableShow.push(NewSelectedCard);\n            newSelected.push(NewSelectedCard);\n        }\n        NewTableShow.push(curCard);\n    }\n\n    newState = {...state, selected:newSelected, tableShow:NewTableShow};\n\n    if(newState.selected.length<3 || ! newState.selected){\n        return newState;\n    }else{\n        if(isValidSet(newState.selected)){\n            return replaceAnotherThree(newState);\n            console.log(\"Right set!\")\n        }else{\n            refreshSelected(newState)\n        }\n    }\n\n\n\n}\n\nfunction refreshSelected(state){\n    let newTableShow = []\n\n    for(let i = 0; i < state.tableShow.length; i++){\n        let curCard = state.tableShow[i]\n        if(curCard.selectStatus === \"selected\"){\n            newTableShow.push({...curCard, selectStatus:\"unselect\",})\n        }else{\n            newTableShow.push(curCard);\n        }\n    }\n    const newState = {...state, tableShow: newTableShow, selected: []};\n    return newState;\n}"]},"metadata":{},"sourceType":"module"}